<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mohammad Rakibur Rahman ‚Äì Software Engineer & AI Enthusiast</title>
  <meta name="description" content="Portfolio of Mohammad Rakibur Rahman ‚Äì Software Engineer & AI Enthusiast in Oulu, Finland. Projects in computer vision, thermal imaging, and intelligent systems." />
  <link rel="canonical" href="https://example.com/" />
  <meta property="og:title" content="Mohammad Rakibur Rahman ‚Äì Software Engineer & AI Enthusiast" />
  <meta property="og:description" content="Projects in computer vision, thermal imaging (ThermApp), and intelligent systems. Based in Oulu, Finland." />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://example.com/" />
  <meta name="twitter:card" content="summary" />
  <meta name="color-scheme" content="light dark" />
  <link rel="icon" href="/favicon.ico" />

  <style>
    /* Design tokens */
    :root{
      --bg: #f9fafb; /* light */
      --text: #1f2937;
      --muted: #6b7280;
      --brand-900: #0d47a1;
      --brand-700: #1976d2;
      --surface: #ffffff;
      --ring: #dbeafe;
      --chip-bg: #e3f2fd;
      --chip-fg: #0d47a1;
      --shadow: 0 1px 4px rgba(0,0,0,.08);
    }
    [data-theme="dark"]{
      --bg: #0b111b; /* dark */
      --text: #e5e7eb;
      --muted: #9ca3af;
      --brand-900: #93c5fd;
      --brand-700: #60a5fa;
      --surface: #0f172a;
      --ring: #1e293b;
      --chip-bg: #0b2347;
      --chip-fg: #93c5fd;
      --shadow: 0 1px 4px rgba(0,0,0,.35);
    }

    html,body{height:100%}
    body{
      margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
      line-height:1.6; color:var(--text); background:var(--bg);
    }
    a{ color: var(--brand-700); text-decoration: none; }
    a:hover{text-decoration: underline}
    .wrapper{ width: min(1100px, 92%); margin: 0 auto; }

    /* Skip link */
    .skip-link{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
    .skip-link:focus{ position:static; width:auto; height:auto; padding:.5rem .75rem; background:var(--surface); box-shadow: var(--shadow); border-radius:.5rem; }

    header{ background: linear-gradient(135deg, var(--brand-900), var(--brand-700)); color:#fff; padding:72px 0 48px; text-align:center; }
    header h1{ font-size: clamp(1.8rem, 2.6vw + 1rem, 2.6rem); margin:0 0 .5rem; }
    header p{ opacity:.95; max-width: 60ch; margin: 0 auto 1.25rem; }
    .cta-row{ display:flex; gap:.75rem; justify-content:center; flex-wrap:wrap; margin-top:1rem; }
    .btn{ display:inline-block; padding:.6rem .95rem; border-radius:.75rem; background:#fff; color:#0d47a1; font-weight:600; box-shadow: var(--shadow); border:1px solid transparent; }
    .btn:hover{ text-decoration:none; border-color: var(--ring); }
    .btn.alt{ background:transparent; color:#fff; border-color:#ffffff33 }

    nav{ position: sticky; top:0; z-index: 50; background: var(--surface); box-shadow: var(--shadow); }
    nav ul{ list-style:none; display:flex; flex-wrap:wrap; justify-content:center; gap:.25rem .75rem; margin:0; padding:.25rem 0; }
    nav a{ display:block; padding:.85rem .75rem; border-radius:.5rem; font-weight:600; color:inherit; }
    nav a[aria-current="page"], nav a.active{ background: var(--ring); color: var(--brand-900); text-decoration:none; }

    section{ padding:64px 0; }
    .section-title{ text-align:center; margin-bottom: 32px; }
    .section-title h2{ font-size: clamp(1.4rem, 1vw + 1rem, 1.9rem); color: var(--brand-900); margin:0; }

    .about{ display:grid; grid-template-columns: 1fr 320px; gap: 32px; align-items:center; }
    .about-text p{ margin: 0 0 1rem; }
    .about-image{ text-align:center; }
    .about-image img{ width:100%; max-width:260px; height:auto; border-radius:50%; box-shadow: var(--shadow); }

    .two-column{ display:grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 32px; }
    .column{ }

    .item{ margin-bottom: 22px; }
    .item h3{ margin:0 0 6px; color: var(--brand-700); font-size: 1.15rem; }
    .meta{ display:block; font-size:.95rem; color: var(--muted); margin-bottom:6px; }

    .skills-list, .language-list{ display:flex; flex-wrap:wrap; gap: 10px 16px; list-style:none; padding:0; margin:8px 0 0; }
    .skills-list li, .language-list li{ background: var(--chip-bg); color: var(--chip-fg); padding:6px 12px; border-radius: 999px; font-size:.92rem; }

    .grid{ display:grid; grid-template-columns: repeat(auto-fit, minmax(280px,1fr)); gap: 20px; align-items: start;  }
    .card{ background: var(--surface); border-radius: 12px; box-shadow: var(--shadow); padding: 18px; transition: transform .2s ease; border: 1px solid transparent; }
    .card:hover{ transform: translateY(-2px); border-color: var(--ring); }
    .card h3{ font-size:1.15rem; margin:.25rem 0 .5rem; color: var(--brand-700); }
    .card p{ margin:.25rem 0 0; font-size:.95rem; }
    figure{ margin: 12px 0 0; }
    figure img{ width:100%; height:auto; border-radius: 8px; }
    figcaption{ font-size:.85rem; color:var(--muted); margin-top:6px; }

    footer{ background: var(--brand-900); color:#fff; text-align:center; padding: 28px 0; font-size:.95rem; }

    .muted{ color: var(--muted); }

    /* Utilities */
    .surface{ background: linear-gradient(0deg, transparent, transparent), var(--surface); }
    .alt{ background: color-mix(in oklab, var(--ring) 35%, transparent); }

    @media (max-width: 820px){ .about{ grid-template-columns: 1fr; } }

    /* 1) Keep cards aligned neatly in a grid */
.grid{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); /* consistent min width */
  gap: 24px;
  align-items: start;  /* don't stretch short cards */
}

/* 2) Make every card use the same internal layout */
.card{
  display: flex;
  flex-direction: column;
}
.card > * + *{ margin-top: .5rem; }  /* consistent vertical rhythm */

/* 3) Normalize images so they don't break alignment */
.card img{
  width: 100%;
  height: auto;          /* default safety */
  display: block;
  border-radius: 8px;
}

/* If a card has a hero/thumb image, give it a fixed ratio for consistency */
.card .thumb{
  aspect-ratio: 16/9;    /* pick 4/3, 1/1, etc. */
  object-fit: cover;
}

/* 4) Make the multi-image figure (ThermApp) consistent */
#projects .card figure{
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  gap: 10px;
}
#projects .card figure img{
  aspect-ratio: 4/3;
  object-fit: cover;     /* crops edges to keep rows aligned */
}

/* 5) Optional: keep card heights visually similar without hard-capping text */
#projects .card p{
  display: -webkit-box;
  -webkit-line-clamp: 4;   /* show ~4 lines */
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* 6) Push links to the bottom so footers align */
.card .spacer{ margin-top: auto; }

  </style>
</head>
<body>
  <a class="skip-link" href="#main">Skip to main content</a>

  <header role="banner">
    <div class="wrapper">
      <h1>Mohammad&nbsp;Rakibur&nbsp;Rahman</h1>
      <p>Software Engineer &amp; Artificial Intelligence Enthusiast based in Oulu, Finland</p>
      <div class="cta-row" role="group" aria-label="Primary actions">
        <a class="btn" href="mailto:Mohammad.R.Rahman@student.oulu.fi" aria-label="Send email to Mohammad">Email me</a>
        <a class="btn alt" href="https://www.linkedin.com/in/mohammad-rakibur-rahman-b13425207/" target="_blank" rel="noopener noreferrer">LinkedIn</a>
        <a class="btn alt" href="https://drive.google.com/file/d/1JMmxR_gvjXFWqQytB2pkv6aGpywI96og/view?usp=sharing" download>Download CV</a>
        <button class="btn" id="themeToggle" type="button" aria-pressed="false" aria-label="Toggle dark mode">üåó Theme</button>
      </div>
    </div>
  </header>

  <nav role="navigation" aria-label="Primary" id="site-nav">
    <div class="wrapper">
      <ul>
        <li><a href="#about" class="navlink">About</a></li>
        <li><a href="#experiences" class="navlink">Experience</a></li>
        <li><a href="#education" class="navlink">Education</a></li>
        <li><a href="#projects" class="navlink">Projects</a></li>
        <li><a href="#achievements" class="navlink">Achievements</a></li>
        <li><a href="#skills" class="navlink">Skills</a></li>
        <li><a href="#hobbies" class="navlink">Hobbies</a></li>
        <li><a href="#contact" class="navlink">Contact</a></li>
      </ul>
    </div>
  </nav>

  <main id="main">
    <!-- About -->
    <section id="about" class="surface">
      <div class="wrapper">
        <div class="section-title"><h2>About Me</h2></div>
        <div class="about">
          <div class="about-text">
            <p>Hello! I‚Äôm <strong>Mohammad Rakibur Rahman</strong>, a graduate student in Computer Science and Engineering focusing on Artificial Intelligence at the University of Oulu. Originally from Dhaka, Bangladesh, I moved to Finland to expand my horizons and pursue advanced studies in cutting‚Äëedge technologies.</p>
            <p>I‚Äôve built real‚Äëtime software and intelligent systems‚Äîfrom designing RESTful APIs for IoT vending machines to a thermal imaging stack that converts raw sensor data to calibrated ¬∞C readings with real‚Äëtime detection. I enjoy bridging theory with practice and presenting findings .</p>
            <p>Beyond work, I ride across quiet Finnish paths, capture moments through my lens, and plan the next adventure‚Äîhabits that keep me curious and patient.</p>
          </div>
          <div class="about-image">
            <!-- Use a real relative path; Windows absolute paths won‚Äôt work on the web -->
            <picture>
              <source srcset="assets/rakib.jpg" type="image/webp" />
              <img src="assets/rakib.jpg" alt="Portrait of Mohammad Rakibur Rahman" width="500" height="500" loading="lazy" />
            </picture>
          </div>
        </div>
      </div>
    </section>

    <!-- Experience -->
    <section id="experiences" class="alt" aria-labelledby="exp-title">
      <div class="wrapper">
        <div class="section-title"><h2 id="exp-title">Experience</h2></div>

        <article class="item" aria-labelledby="exp-cmvs-title">
          <h3 id="exp-cmvs-title">Summer Trainee ‚Äî Center for Machine Vision & Signal Analysis (CMVS)</h3>
          <span class="meta">Oulu, Finland ‚Ä¢ <time datetime="2025-06">June 2025</time> ‚Äì <time datetime="2025-07">July 2025</time></span>
          <p>During my internship at the Multimodal Sensing Lab (CMVS), University of Oulu, I developed a complete thermal imaging application for the ThermApp infrared camera. 
            I worked on low-level USB device communication, implemented real-time frame acquisition and processing, and designed a calibration pipeline to reduce sensor noise and stabilize brightness. 
            I also integrated Planck‚Äôs law‚Äìbased temperature extraction to convert raw sensor values into meaningful ¬∞C readings and extended the system with YOLOv11-based face detection for automatic recognition in thermal video streams. 
            Through this project, I gained hands-on experience in computer vision, sensor calibration, real-time image processing, and deep learning integration, while strengthening my ability to design modular, research-oriented software. <a href="https://github.com/MohammadRakiburRahman/Them_App" target="_blank" rel="noopener noreferrer">GitHub repository</a>.</p>
        </article>

        <article class="item" aria-labelledby="exp-junior-onu-title">
          <h3 id="exp-junior-onu-title">Junior Software Engineer ‚Äî Onutiative Ltd</h3>
          <span class="meta">Dhaka, Bangladesh ‚Ä¢ <time datetime="2023-03">Mar 2023</time> ‚Äì <time datetime="2023-05">May 2023</time></span>
          <p>Designed REST APIs for IoT vending machines, improving stock update accuracy and enhancing the performance of a vending‚Äëmachine management platform to boost operational efficiency by 25%. Conducted system testing to ensure robustness and reliability of deployed solutions.</p>
        </article>

        <article class="item" aria-labelledby="exp-intern-onu-title">
          <h3 id="exp-intern-onu-title">Software Developer (Intern) ‚Äî Onutiative Ltd</h3>
          <span class="meta">Dhaka, Bangladesh ‚Ä¢ <time datetime="2023-05">May 2023</time> ‚Äì <time datetime="2024-06">Jun 2024</time></span>
          <p>Built and deployed an automated sales reporting system for IoT devices using Flask, reducing report preparation time by 70%. Optimised CRM features for multinational clients to increase engagement by 15%, designed and tested RESTful APIs for real‚Äëtime data synchronisation across international offices (97.8% uptime) and crafted Excel VBA macros that cut manual work by 90%. 
            I collaborated closely within an Agile team to deliver scalable solutions.</p>
        </article>
      </div>
    </section>

    <!-- Education -->
    <section id="education" class="surface">
      <div class="wrapper">
        <div class="section-title"><h2>Education</h2></div>
        <div class="two-column">
          <div class="column">
            <div class="item">
              <h3>MSc in Computer Science &amp; Engineering (Artificial Intelligence)</h3>
              <span class="meta">University of Oulu ‚Ä¢ <time datetime="2024">2024</time> ‚Äì ongoing</span>
              <p>Advanced coursework in machine learning, computer vision and real‚Äëtime systems. Developed a strong theoretical foundation in AI and translated it into practical projects and research.</p>
            </div>
            <div class="item">
              <h3>BSc in Computer Science &amp; Engineering (Artificial Intelligence)</h3>
              <span class="meta">North South University ‚Ä¢ <time datetime="2018">2018</time> ‚Äì <time datetime="2023">2023</time></span>
              <p>Built the groundwork in algorithms, data structures and software development. Focused on artificial intelligence and computational theory while participating in extracurricular teaching activities.</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Projects -->
    <section id="projects" class="alt">
      <div class="wrapper">
        <div class="section-title"><h2>Projects</h2></div>

        <div class="grid">
          <article class="card">
            <h3>ThermApp Thermal Imaging Application</h3>
            <p>A Python-based application for the ThermApp <strong>infrared</strong> camera, featuring low-level USB device communication, <strong> real-time frame acquisition and processing, and a custom calibration pipeline </strong> to reduce sensor noise and stabilize brightness. 
              The system also integrates Planck‚Äôs law‚Äìbased temperature extraction to convert raw sensor values into accurate ¬∞C readings, and extends functionality with <strong>YOLOv11</strong>Y-powered face detection for automatic recognition in thermal video streams.</p> <p><a href="https://github.com/MohammadRakiburRahman/Them_App" target="_blank" rel="noopener noreferrer">GitHub Repository</a></p>
            <figure>
              <img src="assets/img1.jpeg" alt="Thermal output example" width="10" height="10" loading="lazy" />
              
              <img src="assets/img2.jpg" alt="Thermal output example" width="50" height="50" loading="lazy" />
              
              <img src="assets/demo.gif" alt="Thermal output example" width="600" height="300" loading="lazy" />
              
            </figure>
          </article>

          <article class="card">
            <h3>Multichannel‚ÄëLocalization</h3>
            <p>This research proposes a novel <strong>multichannel approach</strong> for <strong>localizing camouflaged objects </strong>, which are often challenging to detect as they blend seamlessly into their surroundings.
               The method combines <strong>Fourier phase‚Äìamplitude analysis </strong> with <strong>local entropy calculations </strong> and integrates them with <strong>Class Activation Maps (CAM)</strong> and <strong>Global Average Pooling (GAP)</strong> to highlight discriminative regions.
              Unlike many deep learning‚Äìbased solutions, the proposed technique is <strong>computationally lightweight</strong>, requires <strong>no feature training</strong>, and is effective even in resource-constrained environments.
              Experiments on multiple benchmark COD datasets <strong>(COD10K, CAMO, CHAMELEON, NC4K)</strong> showed that the approach successfully localized over <strong> 80% </strong>of camouflaged objects, making it a <strong> practical and efficient solution </strong> for real-world detection tasks.</p>
            <p><a href="https://github.com/MohammadRakiburRahman/Multichannel-Localization-ICIP-2023" target="_blank" rel="noopener noreferrer">GitHub Repository</a></p>
            <figure>
              <img src="assets/cod1.jpg" alt="Example of camouflaged object localisation" width="600" height="360" loading="lazy" />
              <figcaption>Localising camouflaged objects on COD datasets.</figcaption>
              <img src="assets/cod2.png" alt="Example of camouflaged object localisation" width="600" height="360" loading="lazy" />
              <figcaption>Capturing the ROI</figcaption>
            </figure>
          </article>

          <article class="card">
            <h3>Helmet &amp; License Plate Detection</h3>
            <p>Real‚Äëtime safety compliance with <strong>YOLOv4</strong>, wired into data pipelines via <strong>TensorFlow</strong> and <strong>Flask</strong> to reduce manual inspections.</p>
          </article>

          <article class="card">
            <h3>Traffic Sign Classification</h3>
            <p><strong>VGG16</strong> model reaching 92% accuracy, hardened for real‚Äëworld use; built with <strong>TensorFlow</strong>, <strong>Keras</strong>, and <strong>scikit‚Äëlearn</strong>.</p>
          </article>

          <article class="card">
            <h3>Face Recognition Attendance</h3>
            <p>Team‚Äëled system combining <strong>ResNet50</strong> and <strong>HOG</strong> features with <strong>OpenCV</strong> for accurate, real‚Äëtime employee attendance tracking.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- Achievements -->
    <section id="achievements" class="surface">
      <div class="wrapper">
        <div class="section-title"><h2>Achievements &amp; Publications</h2></div>
        <div class="grid">
          <article class="card">
            <h3>Publication</h3>
            <p><strong>‚ÄúA Multichannel Localization Method for Camouflaged Object Detection.‚Äù</strong> ‚Äî ‚Äù Presented at the 2023 IEEE International Conference on Image Processing (ICIP). 
              I <strong>led</strong> the development of a Fourier‚Äëbased localization method using class activation mapping and pixel entropy, achieving high accuracy without relying on pre‚Äëtrained features.</p>
            <p><a href="https://www.researchgate.net/publication/374543237_A_Multichannel_Localization_Method_for_Camouflaged_Object_Detection" target="_blank" rel="noopener noreferrer">Paper Link</a></p>
          </article>
          <article class="card">
            <h3>Research Assistant Grant</h3>
            <p>‚Ç¨1500 Summer Research Assistant grant at CMVS Lab, University of Oulu.</p>
          </article>
          <article class="card">
            <h3>Travel Grant</h3>
            <p>One of 15 recipients of the Progress Workshop travel grant to attend IEEE ICIP 2023.</p>
          </article>
          <article class="card">
            <h3>Certifications</h3>
            <p>Stanford Online: <strong>Supervised Machine Learning</strong> (2023). IELTS overall band 7.0.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- Skills -->
    <section id="skills" class="alt">
      <div class="wrapper">
        <div class="section-title"><h2>Skills &amp; Tools</h2></div>
        <div class="two-column">
          <div class="column">
            <h3>Programming Languages</h3>
            <ul class="skills-list">
              <li>Python</li><li>C</li><li>PHP</li>
            </ul>
            <h3>Frameworks &amp; Libraries</h3>
            <ul class="skills-list">
              <li>Flask</li><li>TensorFlow</li><li>Keras</li><li>OpenCV</li><li>PyTorch</li><li>scikit‚Äëlearn</li><li>NumPy</li><li>Pandas</li><li>SciPy</li>
            </ul>
          </div>
          <div class="column">
            <h3>Software &amp; DevOps</h3>
            <ul class="skills-list">
              <li>Agile &amp; Scrum</li><li>UML</li><li>Git</li>
            </ul>
            <h3>Databases</h3>
            <ul class="skills-list">
              <li>MySQL</li><li>SQLite</li><li>PostgreSQL</li>
            </ul>
            <h3>Languages</h3>
            <ul class="language-list">
              <li>English ‚Äî Fluent</li><li>Finnish ‚Äî Basic</li><li>Bengali ‚Äî Native</li><li>Hindi ‚Äî Conversational</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- Hobbies -->
    <section id="hobbies" class="surface">
      <div class="wrapper">
        <div class="section-title"><h2>Hobbies &amp; Personal Interests</h2></div>
        <div class="grid">
          <article class="card">
            <figure>
              <img src="assets/Bike.jpeg" alt="Cycling through Finnish landscapes" width="640" height="380" loading="lazy" />
            </figure>
            <h3>Bike Riding</h3>
            <p>Cycling is my favourite way to clear my mind and appreciate Finland‚Äôs landscapes. Whether on a quiet road through a forest or a brisk ride along the coast, biking rejuvenates me and inspires creative thinking in my professional life.</p>
          </article>
          <article class="card">
            <figure>
              <img src="assets/advanture.jpeg" alt="Mountain trek" width="640" height="380" loading="lazy" />
            </figure>
            <h3>Adventure &amp; Exploration</h3>
            <p>From exploring new cities to trekking through mountains, I love pushing my comfort zone and experiencing diverse cultures. Adventure teaches me adaptability and resilience‚Äîqualities I bring back to my work and studies.</p>
          </article>
          <article class="card">
            <figure>
              <img src="assets/photography.jpeg" alt="Street photography scene" width="640" height="380" loading="lazy" />
            </figure>
            <h3>Photography</h3>
            <p>Capturing candid moments is a creative outlet that complements my analytical work. Photography trains my eye for detail and composition, skills that translate surprisingly well to designing intuitive software and AI models.</p>
          </article>
          <article class="card">
            <h3>Teaching &amp; Mentoring</h3>
            <p>I have been a freelance teacher for over seven years, sharing knowledge with students and junior developers. Guiding others deepens my understanding and keeps me grounded in core principles.</p>
          </article>
        </div>
      </div>
    </section>

    <!-- Contact -->
    <section id="contact" class="alt">
      <div class="wrapper">
        <div class="section-title"><h2>Get in Touch</h2></div>
        <p style="text-align:center; max-width: 60ch; margin: 0 auto;">I‚Äôm looking for opportunities in software engineering, machine learning, and computer vision. For collaboration or a quick hello, reach out below.</p>
        <ul class="skills-list" style="justify-content:center; margin-top: 16px;">
          <li><strong>LinkedIn:</strong> <a href="https://www.linkedin.com/in/mohammad-rakibur-rahman-b13425207/" target="_blank" rel="noopener noreferrer">Mohammad Rakibur Rahman</a></li>
          <li><strong>Email:</strong> <a href="mailto:Mohammad.R.Rahman@student.oulu.fi">Mohammad.R.Rahman@student.oulu.fi</a></li>
          <li><strong>Location:</strong> Oulu, Finland</li>
        </ul>
      </div>
    </section>
  </main>

  <footer role="contentinfo">
    <div class="wrapper">¬© <span id="year"></span> Mohammad Rakibur Rahman.</div>
  </footer>

  <!-- Structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Mohammad Rakibur Rahman",
    "jobTitle": "Software Engineer & AI Enthusiast",
    "address": {"@type":"PostalAddress","addressLocality":"Oulu","addressCountry":"FI"},
    "email": "mailto:Mohammad.R.Rahman@student.oulu.fi",
    "url": "https://example.com/",
    "sameAs": [
      "https://www.linkedin.com/in/mohammad-rakibur-rahman-b13425207/",
      "https://github.com/MohammadRakiburRahman"
    ]
  }
  </script>

  <script>
    // Active nav link on scroll
    const links = Array.from(document.querySelectorAll('.navlink'));
    const sections = links.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);
    const navObserver = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        const id = '#' + entry.target.id;
        const link = links.find(a => a.getAttribute('href') === id);
        if(entry.isIntersecting){
          links.forEach(a=>a.classList.remove('active'));
          if(link){ link.classList.add('active'); link.setAttribute('aria-current','page'); }
        }
      });
    },{ rootMargin: "-50% 0px -45% 0px", threshold: 0.01 });
    sections.forEach(sec => navObserver.observe(sec));

    // Theme toggle with localStorage
    const themeToggle = document.getElementById('themeToggle');
    const applyTheme = (t)=>{ document.documentElement.setAttribute('data-theme', t); themeToggle.setAttribute('aria-pressed', t==='dark'); };
    const stored = localStorage.getItem('theme');
    if(stored){ applyTheme(stored); }
    themeToggle?.addEventListener('click', ()=>{
      const current = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      applyTheme(current); localStorage.setItem('theme', current);
    });

    // Copyright year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
